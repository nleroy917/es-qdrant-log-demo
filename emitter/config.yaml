buffer_size: 1000
flush_interval_ms: 5000
run_duration_secs: 30

embedding:
  api_key: ${OPENAI_API_KEY}
  model: text-embedding-3-small
  dimensions: 1536

sinks:
  - type: stdout

  # - type: qdrant
  #   url: ${QDRANT_URL}
  #   api_key: ${QDRANT_API_KEY}
  #   collection_name: logs

  # - type: elasticsearch
  #   url: ${ELASTIC_URL}
  #   api_key: ${ELASTIC_API_KEY}
  #   index_name: logs

services:
  - name: api-gateway
    rate_per_sec: 100.0
    level_weights:
      debug: 0.1
      info: 0.7
      warn: 0.15
      error: 0.05

  - name: auth-service
    rate_per_sec: 50.0
    level_weights:
      debug: 0.05
      info: 0.6
      warn: 0.2
      error: 0.15

  - name: payment-service
    rate_per_sec: 30.0
    level_weights:
      debug: 0.05
      info: 0.5
      warn: 0.25
      error: 0.2

  - name: user-service
    rate_per_sec: 40.0
    level_weights:
      debug: 0.1
      info: 0.65
      warn: 0.15
      error: 0.1